
## **Environment Setup (macOS, Windows, Linux)**

---

## **1. Concept**

The **environment setup** for React Native involves preparing your development machine with all the tools required to build, run, and debug mobile applications for **iOS** and **Android** using JavaScript/TypeScript and React.

FAANG-level engineering standards emphasize **reproducibility, platform parity, and minimal friction for onboarding new developers**, so your setup must be **scriptable**, **documented**, and **cross-platform compatible**.

React Native projects typically require:

* **Node.js** (JavaScript runtime)
* **Package Manager** (`npm` or `yarn` or `pnpm`)
* **React Native CLI** or **Expo CLI**
* **Mobile SDKs**:

  * Android SDK (for Android development)
  * Xcode (for iOS development; macOS only)
* **Emulators/Simulators** for testing
* **Watchman** (for file watching, especially in macOS)
* **JDK** (Java Development Kit, for Android builds)

---

## **2. Detailed Environment Setup**

### **A. Common Prerequisites for All OS**

Regardless of OS, you should first install:

1. **Node.js**

   * Install **LTS** version for stability.
   * Use **nvm** (Node Version Manager) for multiple versions:

     ```bash
     # macOS/Linux
     curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
     nvm install --lts

     # Windows (via nvm-windows)
     choco install nvm
     nvm install lts
     ```

2. **Package Manager**

   * `npm` comes with Node.js, but **Yarn** is preferred for deterministic installs:

     ```bash
     npm install --global yarn
     ```

3. **React Native CLI**

   * **For bare workflow**:

     ```bash
     npm install -g react-native-cli
     ```
   * **For Expo workflow**:

     ```bash
     npm install -g expo-cli
     ```

4. **Watchman** (macOS/Linux only; improves file change detection)

   ```bash
   # macOS
   brew install watchman

   # Linux
   sudo apt install watchman
   ```

---

### **B. macOS Setup**

Best for **both iOS and Android development**.

#### 1. Install Xcode (for iOS)

* Download from the **Mac App Store**.
* Install **Command Line Tools**:

  ```bash
  xcode-select --install
  ```
* Open Xcode → Preferences → Locations → Set Command Line Tools.
* Accept license:

  ```bash
  sudo xcodebuild -license accept
  ```

#### 2. Install CocoaPods (iOS dependency manager)

```bash
sudo gem install cocoapods
```

#### 3. Install Android Studio (for Android)

* Download from: [https://developer.android.com/studio](https://developer.android.com/studio)
* Install:

  * **Android SDK**
  * **Android SDK Platform-Tools**
  * **Android SDK Build-Tools**
  * **Android Virtual Device (AVD)**
* Set environment variables in `~/.zshrc` or `~/.bashrc`:

  ```bash
  export ANDROID_HOME=$HOME/Library/Android/sdk
  export PATH=$PATH:$ANDROID_HOME/emulator
  export PATH=$PATH:$ANDROID_HOME/platform-tools
  ```

---

### **C. Windows Setup**

Only for **Android development** (iOS requires macOS).

#### 1. Install Chocolatey (Windows package manager)

```powershell
Set-ExecutionPolicy Bypass -Scope Process -Force; `
iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))
```

#### 2. Install Node.js, Yarn, JDK

```powershell
choco install nodejs-lts yarn openjdk11
```

#### 3. Install Android Studio

* Install SDK & AVD as in macOS setup.
* Set environment variables in **System Properties → Environment Variables**:

  ```
  ANDROID_HOME=C:\Users\<YourUser>\AppData\Local\Android\Sdk
  PATH=%PATH%;%ANDROID_HOME%\platform-tools
  ```

---

### **D. Linux Setup**

Android development is supported. iOS development is **not** supported.

#### 1. Install Node.js, Yarn, JDK

```bash
# Ubuntu/Debian
sudo apt update
sudo apt install curl openjdk-11-jdk
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
nvm install --lts
npm install --global yarn
```

#### 2. Install Android Studio

```bash
sudo snap install android-studio --classic
```

Configure **ANDROID\_HOME** in `~/.bashrc`:

```bash
export ANDROID_HOME=$HOME/Android/Sdk
export PATH=$PATH:$ANDROID_HOME/emulator
export PATH=$PATH:$ANDROID_HOME/platform-tools
```

---

## **3. Verification Steps**

Run the following after setup:

```bash
node -v
yarn -v
react-native -v
adb --version
```

To create and run a new project:

```bash
npx react-native init MyApp
cd MyApp
npx react-native run-android  # For Android
npx react-native run-ios      # For iOS (macOS only)
```

---

## **4. Best Practices**

* **Automated Setup**: Create a `setup.sh` or `setup.ps1` script to install dependencies in one step.
* **Version Locking**: Use `.nvmrc` and `yarn.lock` to keep all developers on the same versions.
* **CI Environment Parity**: Match local environment with CI/CD build servers (e.g., use Docker or macOS runners).
* **Hermes Engine**: Enable Hermes for better performance and lower memory usage.
* **Simulators in CI**: Configure headless Android emulators for automated tests.


