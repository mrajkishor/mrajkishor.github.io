### üìå **Block Cipher Modes of Operation**

Block cipher modes of operation define **how a block cipher algorithm (like DES or AES)** encrypts data that is **larger than its fixed block size** (typically 64 or 128 bits). Since block ciphers can only process a single block at a time, modes of operation are necessary to securely handle **arbitrary-length plaintexts**.

Each mode has distinct properties in terms of **security**, **error propagation**, and **performance**.

---

## üîê **1. Electronic Codebook (ECB) Mode**

* **Description**: The simplest block cipher mode.
* Each plaintext block is **encrypted independently** using the same key.
* **Equation**: `C·µ¢ = E(P·µ¢)`

### ‚ùå Disadvantages:

* **Patterns in plaintext** remain visible in ciphertext if blocks repeat.
* Not suitable for encrypting large, structured data (e.g., images).

---

## üîÑ **2. Cipher Block Chaining (CBC) Mode**

* **Description**: Each plaintext block is **XORed** with the previous **ciphertext block** before encryption.
* Uses an **Initialization Vector (IV)** for the first block.
* **Equation**:
  `C‚ÇÄ = E(P‚ÇÄ ‚äï IV)`
  `C·µ¢ = E(P·µ¢ ‚äï C·µ¢‚Çã‚ÇÅ)`

### ‚úÖ Advantages:

* **Identical plaintext blocks yield different ciphertexts**.
* Good for **file encryption** and **secure data storage**.

### ‚ö†Ô∏è Disadvantages:

* **Not parallelisable**.
* A single-bit error in one ciphertext block affects the next block.

---

## üîÅ **3. Cipher Feedback (CFB) Mode**

* **Description**: Converts a block cipher into a **self-synchronizing stream cipher**.
* Encrypts the **previous ciphertext block**, then XORs it with plaintext to get the new ciphertext.
* **Equation**:
  `C·µ¢ = P·µ¢ ‚äï E(C·µ¢‚Çã‚ÇÅ)` (with IV as `C‚Çã‚ÇÅ`)

### ‚úÖ Advantages:

* Suitable for **real-time transmission** (e.g., network encryption).
* Recovers automatically from some types of transmission errors.

### ‚ö†Ô∏è Disadvantages:

* A **single-bit error** in transmission corrupts **multiple bits** during decryption.

---

## üîÑ **4. Output Feedback (OFB) Mode**

* **Description**: Turns a block cipher into a **stream cipher** using **keystream generation**.
* Continuously encrypts the **IV**, not the ciphertext or plaintext.
* **Equation**:
  `K·µ¢ = E(K·µ¢‚Çã‚ÇÅ)`
  `C·µ¢ = P·µ¢ ‚äï K·µ¢`

### ‚úÖ Advantages:

* **No error propagation** ‚Äî bit errors in ciphertext affect only corresponding plaintext bits.
* Useful for **low-error, low-latency channels**.

### ‚ö†Ô∏è Disadvantages:

* **Keystream must not repeat** ‚Äî reuse of IV leads to severe vulnerabilities.

---

## üî¢ **5. Counter (CTR) Mode**

* **Description**: Encrypts a **counter value** for each block instead of previous data.
* Counter is incremented for each block.
* **Equation**:
  `C·µ¢ = P·µ¢ ‚äï E(Nonce || Counter·µ¢)`

### ‚úÖ Advantages:

* **Highly parallelisable** ‚Äî ideal for **multi-core processors**.
* Supports **random access** to encrypted data blocks.

### ‚ö†Ô∏è Disadvantages:

* Requires **unique counter values** for each block to ensure security.

---

## ‚úÖ **Conclusion**

Each block cipher mode of operation provides different trade-offs in terms of **security**, **performance**, and **error handling**:

| **Mode** | **Type** | **Parallelizable** | **Error Propagation** | **Use Case**                 |
| -------- | -------- | ------------------ | --------------------- | ---------------------------- |
| ECB      | Block    | Yes                | No                    | Unsafe for large data        |
| CBC      | Block    | No                 | Yes (next block)      | Secure file encryption       |
| CFB      | Stream   | No                 | Yes (next few bits)   | Secure transmission          |
| OFB      | Stream   | Yes                | No                    | Real-time low-error channels |
| CTR      | Stream   | Yes                | No                    | High-speed data encryption   |

In modern cryptography, **CTR** and **CBC** are commonly used, while **ECB** is **deprecated** due to its poor security in most scenarios.
