# üìò Counting (Permutation & Combination) 

---

## 1. Why Counting Matters

In probability, the denominator (total outcomes) and numerator (favorable outcomes) almost always come from **counting arguments**. If you can‚Äôt count outcomes correctly, probabilities collapse. That‚Äôs why this is the first, and often the trickiest, building block.

---

## 2. Fundamental Principles

### **Addition Rule (Sum Rule)**

* If task A can be done in *m* ways, and task B in *n* ways, and they are **mutually exclusive**,
  total = **m + n**.
* Example: Choosing tea (3 types) or coffee (2 types) ‚Üí **3 + 2 = 5 ways**.

### **Multiplication Rule (Product Rule)**

* If task A can be done in *m* ways and for each, task B in *n* ways,
  total = **m √ó n**.
* Example: 3 shirts √ó 4 pants = **12 outfits**.

‚ö†Ô∏è **Trap**: Addition vs. Multiplication is the #1 confusion. Always check: *are events mutually exclusive or sequential?*

---

## 3. Permutations (Order Matters)

### **General Formula**

$$
P(n, r) = \frac{n!}{(n-r)!}
$$

Arrangement of *r* objects from *n* distinct objects.

### **Special Cases**

* **With repetition:** $n^r$
* **Circular permutations:**

  * Distinct objects: $(n-1)!$
  * If reflections identical: $\frac{(n-1)!}{2}$
* **Permutations with identical items:**

  $$
  \frac{n!}{n_1! n_2! \dots n_k!}
  $$

  Example: MISSISSIPPI ‚Üí $\frac{11!}{4!4!2!1!}$.

---

## 4. Combinations (Order Doesn‚Äôt Matter)

### **General Formula**

$$
C(n, r) = \binom{n}{r} = \frac{n!}{r!(n-r)!}
$$

### **With Repetition (Multichoose)**

$$
\binom{n+r-1}{r}
$$

(‚ÄúStars and Bars‚Äù method)

Example: Choose 3 fruits with repetition from 5 types = $\binom{5+3-1}{3} = 35$.

---

## 5. Relation Between P & C

$$
P(n, r) = C(n, r) \times r!
$$

üëâ Always useful when shifting between order and selection problems.

---

## 6. Advanced Counting 

### (a) **Distribution Problems (Stars & Bars)**

* Non-negative integer solutions:

  $$
  x_1 + x_2 + \dots + x_k = n \quad \Rightarrow \quad \binom{n+k-1}{k-1}
  $$
* If each $x_i \geq 1$: transform by $y_i = x_i - 1$.

Example: Distribute 10 identical balls into 4 boxes (‚â•0 allowed):
$\binom{10+4-1}{4-1} = \binom{13}{3} = 286$.

---

### (b) **Derangements (!n)**

* Permutations where no object appears in its original place.

$$
!n = n!\left(1 - \frac{1}{1!} + \frac{1}{2!} - \dots + (-1)^n\frac{1}{n!}\right)
$$

* Approximation: $!n \approx \frac{n!}{e}$.
* Classic GATE problem: ‚ÄúLetters in envelopes‚Äù mismatch.

---

### (c) **Inclusion‚ÄìExclusion Principle**

* To count with restrictions:

$$
|A \cup B \cup C| = |A| + |B| + |C| - |A \cap B| - |B \cap C| - |A \cap C| + |A \cap B \cap C|
$$

* Example: Count numbers ‚â§100 divisible by 2, 3, or 5.

---

### (d) **Multinomial Coefficients**

* Generalization of binomial theorem:

$$
(x_1 + x_2 + \dots + x_k)^n = \sum \frac{n!}{n_1!n_2!\dots n_k!} x_1^{n_1} x_2^{n_2}\dots x_k^{n_k}
$$

* Coefficient = multinomial count.
* Application: partition problems, word arrangements.

---

### (e) **Binomial Identities**

* $\sum_{r=0}^n \binom{n}{r} = 2^n$
* $\sum_{r=0}^n r\binom{n}{r} = n \cdot 2^{n-1}$
* Hockey Stick Identity:
  $\binom{n}{r} + \binom{n+1}{r} + \dots + \binom{n+k}{r} = \binom{n+k+1}{r+1}$
  üëâ Often appear in tricky simplifications.

---

## 7. Probability Applications

* **Card problems**: Poker hands, at least/at most conditions.
* **Dice problems**: Sums, parity, independence.
* **Seating problems**: Restrictions (no two together, alternating).
* **Urn models**: Drawing with/without replacement.

---

## 8. Common Exam Traps

* Forgetting if order matters.
* Miscounting when repetition is allowed.
* Ignoring identical objects (treating all as distinct).
* Wrong formula for circular permutations.
* Not applying inclusion‚Äìexclusion for overlapping cases.

---

## 9. GATE-Level Example Problems

### Problem 1: Restricted Arrangement

How many ways to seat 5 men and 5 women in a row so that no two women sit together?

* Place men: **5!** ways.
* 6 gaps available, choose 5 for women: $\binom{6}{5}$.
* Arrange women: **5!**.
* Total = $5! \times \binom{6}{5} \times 5! = 86400$.

---

### Problem 2: Derangement Probability

If 4 letters are put randomly into 4 envelopes, probability none goes into the correct one?

$$
\frac{!4}{4!} = \frac{9}{24} = 0.375
$$

---

### Problem 3: Distribution

Number of non-negative integer solutions to $x_1+x_2+x_3=7$:
$\binom{7+3-1}{2} = \binom{9}{2} = 36$.

