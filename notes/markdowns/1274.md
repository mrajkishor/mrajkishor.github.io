

# ðŸ“˜ Aurora Machine Learning


![alt text](image-251.png)

- **Integration of ML into Databases**  
  Aurora enables adding **ML predictions directly via SQL queries**.  
  Example: `SELECT predict_recommendations(user_id)` could return personalized product suggestions.

- **Supported Services**  
  - **Amazon SageMaker** â†’ Train/deploy any ML model and call it from Aurora.  
  - **Amazon Comprehend** â†’ Perform **sentiment analysis** (e.g., positive/negative/neutral) on text data stored in Aurora.

- **Key Points**  
  - Simple + secure integration â†’ No need for deep ML expertise.  
  - SQL-based â†’ Developers just use SQL queries; Aurora connects to ML services in background.  
  - Use cases: **fraud detection, product recommendations, ads targeting, sentiment analysis**.

---

# ðŸ“˜ Babelfish for Aurora PostgreSQL

- **Purpose**  
  ==Allows **Aurora PostgreSQL** to understand **T-SQL (Microsoft SQL Server queries)**.==
  This means SQL Serverâ€“based applications can run on Aurora PostgreSQL **with minimal or no code changes**.

- **How it works**  
  - Applications using **MS SQL Server client drivers** can directly connect to Aurora PostgreSQL (via Babelfish).  
  - Aurora can parse and execute **T-SQL commands** alongside native PostgreSQL commands.  

![alt text](image-252.png)

- **Migration Benefit**  
  - Reduces migration effort from **SQL Server â†’ Aurora PostgreSQL**.  
  - Can be combined with **AWS SCT (Schema Conversion Tool)** + **AWS DMS (Database Migration Service)**.

---

# ðŸ“˜ RDS Backups

- **Automated Backups**  
  - Daily full backup.  
  - Transaction logs captured every **5 minutes**.  
  - Supports **Point-in-Time Restore (PITR)** (up to the last 5 minutes).  
  - Retention: **1â€“35 days** (configurable).  

- **Manual Snapshots**  
  - User-triggered.  
  - Can retain indefinitely.  

- **Note**: If RDS is **stopped**, you still pay for storage. For long-term suspension, better to **take a snapshot and delete the instance**.

---

# ðŸ“˜ Aurora Backups

- **Automated Backups**  
  - Enabled by default.  
  - Retention: **1â€“35 days** (cannot be disabled).  
  - Supports **Point-in-Time Recovery (PITR)**.  

- **Manual Snapshots**  
  - Same as RDS â†’ user-managed + indefinite retention.  

---

# ðŸ“˜ Restore Options (RDS & Aurora)

- **General Rule**: Restoring a backup/snapshot **creates a new DB instance**.  

### 1. Restoring MySQL RDS from S3
- Create a backup of on-premises DB.  
- Upload backup to **Amazon S3**.  
- Restore backup into a **new RDS MySQL instance**.  

### 2. Restoring MySQL Aurora from S3
- Take a backup using **Percona XtraBackup** (a MySQL backup tool).  
- Store on **Amazon S3**.  
- Restore to a **new Aurora MySQL cluster**.  

---

âœ… **Exam Tip**:  
- RDS PITR granularity = **5 minutes**.  
- Aurora backups = **always on, cannot disable**.  
- Babelfish = **MS SQL â†’ Aurora PostgreSQL migration helper**.  
- Aurora ML = **SQL-driven ML inference with SageMaker + Comprehend**.  

