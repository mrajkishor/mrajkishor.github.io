

# **Dense vs Sparse Indexing**

---

## 🧠 **Introduction to Indexing**

Indexing is a technique to improve the **speed of data retrieval** in a database. It involves creating auxiliary data structures (index files) that map **search keys** to the **locations of actual records** in the data file.

There are two major types of indexing based on **how frequently index entries appear**:

* 🔹 **Dense Index**
* 🔹 **Sparse Index**

---

## 🔹 **Dense Indexing**

### ✅ **Definition:**

A **dense index** contains **one index entry for every record** in the data file.

### 📌 **Structure:**

Each index entry contains:

* The **search key** value
* A **pointer** to the actual record

### 📋 **Example:**

Suppose you have a `Student` table:

| RollNo | Name  |
| ------ | ----- |
| 101    | Anu   |
| 102    | Ravi  |
| 103    | Priya |

A dense index on `RollNo`:

| Index (RollNo) | Pointer to Record |
| -------------- | ----------------- |
| 101            | → Record(101)     |
| 102            | → Record(102)     |
| 103            | → Record(103)     |

### ✅ **Advantages:**

* Very fast lookups — direct access to every record.
* Works well for **unordered** or **heap** files.

### ❌ **Disadvantages:**

* Larger index size (more storage)
* Higher maintenance cost on INSERT/DELETE

---

## 🔹 **Sparse Indexing**

### ✅ **Definition:**

A **sparse index** contains **index entries only for some records**, typically **one per block**.

### 📌 **Structure:**

Each entry points to a **block**, not a specific record.

### 📋 **Example:**

Suppose a data file has 3 blocks, and each block has 100 sorted records:

| Block | First RollNo | Records |
| ----- | ------------ | ------- |
| 1     | 101          | 101–200 |
| 2     | 201          | 201–300 |
| 3     | 301          | 301–400 |

Sparse index:

| Index (RollNo) | Pointer to Block |
| -------------- | ---------------- |
| 101            | → Block 1        |
| 201            | → Block 2        |
| 301            | → Block 3        |

To find `RollNo = 229`:

* Locate 201 ≤ 229 → Go to Block 2 → Search inside

### ✅ **Advantages:**

* Small index size (fewer entries)
* Efficient for **large sorted files**

### ❌ **Disadvantages:**

* Slower than dense index (needs block-level scan)
* Cannot be used on **unsorted files**

---

## 🆚 **Dense vs Sparse Index – Comparison Table**

| Feature                   | Dense Index            | Sparse Index                     |
| ------------------------- | ---------------------- | -------------------------------- |
| Entries per record        | One per record         | One per block (or a few records) |
| Size of index             | Larger                 | Smaller                          |
| Access speed              | Faster (direct access) | Slower (block-level search)      |
| Works with unsorted data? | ✅ Yes                  | ❌ No                             |
| Storage efficiency        | Less                   | More                             |
| Maintenance on updates    | More expensive         | Less expensive                   |

---

## 🧪 GATE Tip:

In GATE problems, **sparse index** is always built on **sorted files** (often called sequential files), while **dense index** can be used for **heap files** (unsorted).

---

## 🧠 Summary:

* Use **dense indexing** when fast access to individual records is required, especially with **unsorted files**.
* Use **sparse indexing** when data is **sorted**, to save space and improve overall performance.
