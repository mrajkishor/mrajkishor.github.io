

# ðŸ”· Chapter 2: A Simple Syntax-Directed Translator

### 2.1 Introduction
- The **analysis phase** of a compiler breaks a program into parts â†’ builds an **intermediate representation (IR)**.  
- The **synthesis phase** translates IR â†’ target code.  
- **Syntax** defines program structure (form). **Semantics** defines program meaning (behavior).  
- Syntax is formally specified using **Context-Free Grammars (CFGs)** / **BNF**.  
- Semantics is harder to specify formally â†’ described informally or with **syntax-directed definitions**.  
- This chapter introduces a **syntax-directed translator**:  
  - Step 1: Convert **infix â†’ postfix** expressions (illustrates parsing + translation).  
  - Step 2: Extend to **three-address code (TAC)**, a common IR.

---

### 2.2 Syntax Definition
- **CFG Components**:  
  - Terminals (tokens), Non-terminals (syntactic variables), Productions (rules), Start symbol.  
- **Derivations**: Steps of rewriting nonterminals to terminals.  
- **Parse Trees**: Graphical structure showing derivations; root = start symbol, leaves = terminals.  
- **Ambiguity**: A grammar is ambiguous if a string has more than one parse tree (e.g., infix `9-5+2`).

---

### 2.3 Syntax-Directed Translation (SDT)
- **SDT**: Embedding rules for semantic actions into grammar productions.  
- Two forms:  
  1. **Postfix Notation** â€“ Operators come after operands (e.g., `95-2+`).  
  2. **Syntax trees** â€“ Hierarchical structure representation.  
- SDTs allow simultaneous **parsing + code generation**.  
- Attributes:  
  - **Synthesized attributes** (pass information up the parse tree).  
  - **Inherited attributes** (pass information down or across).

---

### 2.4 Parsing
- **Parsing goal**: Decide if a string belongs to a grammar & build its parse tree.  
- **Top-down parsing**: Starts from start symbol â†’ derives input string.  
- **Bottom-up parsing**: Starts from input â†’ reduces to start symbol.  
- In this chapter, **operator-precedence parsing** for simple expressions is demonstrated.

---

### 2.5 A Translator for Infix to Postfix
- Translator uses a **stack** to reorder operands and operators.  
- Example:  
  - Input: `9 - 5 + 2`  
  - Postfix: `95-2+`  
- Demonstrates **left associativity** and operator precedence.  
- Translator handles digits, `+`, and `-` operators.

---

### 2.6 Lexical Analysis Extension
- Introduces a **lexical analyzer** to handle multi-character tokens: identifiers, numbers, whitespace.  
- Converts raw input characters â†’ **tokens** `(terminal symbol, attribute)`.  
- Example: `count + 1` â†’ tokens: `(id, "count")`, `(+, )`, `(num, 1)`.

---

### 2.7 Intermediate Code Generation
- **Two IR forms**:  
  1. **Syntax Trees** â€“ Show hierarchical structure.  
  2. **Three-Address Code (TAC)** â€“ Instructions of form `x = y op z`.  
- TAC operations: assignment, arithmetic, relational, conditional jumps.  
- Example translation:  
  - `i = i + 1; while (a[i] < v);`  
  - Syntax tree captures structure.  
  - TAC:  
    ```
    t1 = i + 1
    i = t1
    ifFalse a[i] < v goto L
    ```
- **Backpatching**: Used later for jumps/branching.

---

### 2.8 Practical Translation Issues
- Managing **temporaries**: Introduce fresh variables for subexpressions.  
- Eliminating redundant copies (optimization starts here).  
- Strategy: Simple TAC generation first â†’ rely on later optimization (Chapter 9).  

---

### 2.9 Summary
- **Core Idea**: Syntax + semantics are tied via **syntax-directed translation**.  
- CFGs define syntax; attributes and rules define translation.  
- **Lexical analyzers, parsers, and TAC generators** form the **compiler front end**.  
- This chapter lays the foundation for later chapters on **lexical analysis, parsing, semantic analysis, and code generation**.

---

# âœ… GATE Pointers
- **CFG basics**: terminals, nonterminals, derivations, ambiguity â†’ frequent PYQ.  
- **Postfix translation**: Classic question (design an SDT to generate postfix).  
- **TAC generation**: Form `x = y op z` is standard exam content.  
- **Difference between syntax trees vs TAC** â†’ GATE has asked this.  
- **Lexical analyzer role**: tokenization vs parser role â†’ common confusion tested.  

